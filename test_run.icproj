{
  "imageSetup": {
    "tStackHandling": "EachOne",
    "zStackHandling": "IntensityProjection"
  },
  "pipelines": [
    {
      "meta": {
        "color": "#B91717",
        "icon": "",
        "name": "www"
      },
      "pipelineSetup": {
        "cStackIndex": 0,
        "defaultClusterId": "A",
        "source": "FromFile",
        "tStackIndex": -1,
        "zProjection": "None",
        "zStackIndex": -1
      },
      "pipelineSteps": [
        {
          "$blur": {
            "kernelSize": 7,
            "mode": "Blur",
            "repeat": 5
          }
        },
        {
          "$threshold": {
            "mode": "",
            "thresholdMax": 65535,
            "thresholdMin": 10
          }
        },
        {
          "$watershed": {
            "maximumFinderTolerance": 0.5
          }
        },
        {
          "$classify": {
            "classifiers": [
              {
                "classOutNoMatch": "None",
                "clusterOutNoMatch": "$",
                "filters": [
                  {
                    "classOut": "None",
                    "clusterOut": "A",
                    "maxParticleSize": -1,
                    "minCircularity": 0.0,
                    "minParticleSize": -1,
                    "snapAreaSize": 0.0
                  }
                ],
                "modelClassId": 65535
              }
            ]
          }
        },
        {
          "$measure": {
            "classesIn": [
              "0",
              "1"
            ],
            "clustersIn": [
              "A",
              "B"
            ],
            "objectIn": {
              "imagePlane": {
                "cStack": -1,
                "tStack": -1,
                "zStack": -1
              },
              "storeIdx": "M0"
            },
            "planesIn": [
              {
                "imageIdx": "None",
                "imagePlane": {
                  "cStack": 0,
                  "tStack": -1,
                  "zStack": -1
                }
              },
              {
                "imageIdx": "None",
                "imagePlane": {
                  "cStack": 1,
                  "tStack": -1,
                  "zStack": -1
                }
              }
            ]
          }
        },
        {
          "$imageFromClass": {
            "classesIn": [
              "None"
            ],
            "clusterIn": "$"
          }
        },
        {
          "$saveImage": {
            "canvas": "$",
            "clustersIn": [],
            "compression": 0,
            "namePrefix": "_classified_A"
          }
        },
        {
          "$voronoi": {
            "excludeAreasAtTheEdge": false,
            "excludeAreasWithoutPoint": true,
            "maxAreaSize": -1,
            "maxRadius": 8000,
            "minAreaSize": -1,
            "objectStoreIn": {
              "imagePlane": {
                "cStack": -1,
                "tStack": -1,
                "zStack": -1
              },
              "storeIdx": "M0"
            },
            "pointsClassIn": [
              "None"
            ],
            "pointsClassOut": "None",
            "pointsClusterIn": "A",
            "pointsClusterOut": "G"
          }
        },
        {
          "$saveImage": {
            "canvas": "White",
            "clustersIn": [
              {
                "classesIn": [
                  {
                    "classIn": "None",
                    "color": "#FF0000",
                    "paintBoundingBox": false,
                    "style": "Outlined"
                  }
                ],
                "clusterIn": "G"
              },
              {
                "classesIn": [
                  {
                    "classIn": "None",
                    "color": "#00FF00",
                    "paintBoundingBox": false,
                    "style": "Outlined"
                  }
                ],
                "clusterIn": "A"
              }
            ],
            "compression": 0,
            "namePrefix": "_voronoi_A"
          }
        }
      ]
    },
    {
      "meta": {
        "color": "#B91717",
        "icon": "",
        "name": "qqq"
      },
      "pipelineSetup": {
        "cStackIndex": 0,
        "defaultClusterId": "A",
        "source": "FromFile",
        "tStackIndex": -1,
        "zProjection": "None",
        "zStackIndex": -1
      },
      "pipelineSteps": [
        {
          "$blur": {
            "kernelSize": 7,
            "mode": "Blur",
            "repeat": 5
          }
        },
        {
          "$threshold": {
            "mode": "",
            "thresholdMax": 65535,
            "thresholdMin": 10
          }
        },
        {
          "$watershed": {
            "maximumFinderTolerance": 0.5
          }
        },
        {
          "$classify": {
            "classifiers": [
              {
                "classOutNoMatch": "None",
                "clusterOutNoMatch": "$",
                "filters": [
                  {
                    "classOut": "None",
                    "clusterOut": "$",
                    "maxParticleSize": -1,
                    "minCircularity": 0.0,
                    "minParticleSize": -1,
                    "snapAreaSize": 0.0
                  }
                ],
                "modelClassId": 65535
              }
            ]
          }
        },
        {
          "$imageFromClass": {
            "classesIn": [
              "0"
            ],
            "clusterIn": "$"
          }
        },
        {
          "$saveImage": {
            "canvas": "$",
            "clustersIn": [],
            "compression": 0,
            "namePrefix": "_classified_B"
          }
        }
      ]
    },
    {
      "meta": {
        "color": "#B91717",
        "icon": "",
        "name": "uu"
      },
      "pipelineSetup": {
        "cStackIndex": 0,
        "defaultClusterId": "A",
        "source": "FromBlank",
        "tStackIndex": -1,
        "zProjection": "None",
        "zStackIndex": -1
      },
      "pipelineSteps": [
        {
          "$colocalization": {
            "classOut": "None",
            "clusterOut": "$",
            "minIntersection": 0.0,
            "objectsIn": [
              {
                "classesIn": [
                  "None"
                ],
                "clusterIn": "A",
                "objectIn": {
                  "imagePlane": {
                    "cStack": -1,
                    "tStack": -1,
                    "zStack": -1
                  },
                  "storeIdx": "M0"
                }
              },
              {
                "classesIn": [
                  "None"
                ],
                "clusterIn": "B",
                "objectIn": {
                  "imagePlane": {
                    "cStack": -1,
                    "tStack": -1,
                    "zStack": -1
                  },
                  "storeIdx": "M0"
                }
              }
            ]
          }
        },
        {
          "$intersection": {
            "function": "Count",
            "minIntersection": 0.10000000149011612,
            "newClassId": "None",
            "objectsIn": {
              "classesIn": [
                "None"
              ],
              "clusterIn": "A",
              "objectIn": {
                "imagePlane": {
                  "cStack": -1,
                  "tStack": -1,
                  "zStack": -1
                },
                "storeIdx": "M0"
              }
            },
            "objectsInWith": {
              "classesIn": [
                "None"
              ],
              "clusterIn": "B",
              "objectIn": {
                "imagePlane": {
                  "cStack": -1,
                  "tStack": -1,
                  "zStack": -1
                },
                "storeIdx": "M0"
              }
            }
          }
        },
        {
          "$intersection": {
            "function": "Reclassify",
            "minIntersection": 0.10000000149011612,
            "newClassId": "None",
            "objectsIn": {
              "classesIn": [
                "None"
              ],
              "clusterIn": "A",
              "objectIn": {
                "imagePlane": {
                  "cStack": -1,
                  "tStack": -1,
                  "zStack": -1
                },
                "storeIdx": "M0"
              }
            },
            "objectsInWith": {
              "classesIn": [
                "None"
              ],
              "clusterIn": "B",
              "objectIn": {
                "imagePlane": {
                  "cStack": -1,
                  "tStack": -1,
                  "zStack": -1
                },
                "storeIdx": "M0"
              }
            }
          }
        },
        {
          "$imageFromClass": {
            "classesIn": [
              "None"
            ],
            "clusterIn": "$"
          }
        },
        {
          "$saveImage": {
            "canvas": "$",
            "clustersIn": [],
            "compression": 0,
            "namePrefix": "_intersect"
          }
        }
      ]
    }
  ],
  "projectSettings": {
    "address": {
      "city": "",
      "country": "",
      "email": "",
      "firstName": "",
      "lastName": "",
      "organization": "",
      "postalCode": "",
      "streetAddress": ""
    },
    "classes": [
      {
        "classId": "None",
        "color": "",
        "name": "EV",
        "notes": ""
      },
      {
        "classId": "None",
        "color": "",
        "name": "cell",
        "notes": ""
      },
      {
        "classId": "None",
        "color": "",
        "name": "background",
        "notes": ""
      },
      {
        "classId": "None",
        "color": "",
        "name": "ev in cell",
        "notes": ""
      },
      {
        "classId": "None",
        "color": "",
        "name": "coloc",
        "notes": ""
      },
      {
        "classId": "None",
        "color": "",
        "name": "Invalid",
        "notes": ""
      }
    ],
    "clusters": [
      {
        "clusterId": "A",
        "color": "",
        "name": "CY5",
        "notes": ""
      },
      {
        "clusterId": "B",
        "color": "",
        "name": "CY7",
        "notes": ""
      },
      {
        "clusterId": "C",
        "color": "",
        "name": "cell area",
        "notes": ""
      },
      {
        "clusterId": "D",
        "color": "",
        "name": "coloc cy5-cy7",
        "notes": ""
      }
    ],
    "experimentSettings": {
      "experimentId": "bb61e310-e876-4aad-85ef-40e3db2eadf4",
      "experimentName": "My experiment",
      "notes": "Notes"
    },
    "plates": [
      {
        "cols": 28,
        "filenameRegex": "_((.)([0-9]+))_([0-9]+)",
        "groupBy": "Filename",
        "imageFolder": "test/test_data/images",
        "name": "Huhu",
        "notes": "Not",
        "plateId": 1,
        "rows": 28,
        "wellImageOrder": [
          [
            1,
            2,
            3,
            4
          ],
          [
            5,
            6,
            7,
            8
          ],
          [
            9,
            10,
            11,
            12
          ],
          [
            13,
            14,
            15,
            16
          ]
        ]
      }
    ],
    "workingDirectory": "tmp"
  }
}